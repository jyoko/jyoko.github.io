<!doctype html><html class="theme-next use-motion"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css"><link href="/css/main.css?v=0.4.5.2" rel="stylesheet" type="text/css"><meta name="keywords" content="Hexo, NexT"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.2"><meta name="description" content="I&apos;m going to go ahead and start this by saying I am not a master of bash and all things vim. This post isn&apos;t for teaching you ways to streamline your unixporn setup. If that&apos;s what you want, move on!W"><meta property="og:type" content="article"><meta property="og:title" content="Terminal Wizard part 2"><meta property="og:url" content="http://jyoko.github.io/2015/10/13/terminal-wizard-part2/index.html"><meta property="og:site_name" content="jrandm thoughts"><meta property="og:description" content="I&apos;m going to go ahead and start this by saying I am not a master of bash and all things vim. This post isn&apos;t for teaching you ways to streamline your unixporn setup. If that&apos;s what you want, move on!W"><meta property="og:updated_time" content="2016-02-19T19:28:01.691Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Terminal Wizard part 2"><meta name="twitter:description" content="I&apos;m going to go ahead and start this by saying I am not a master of bash and all things vim. This post isn&apos;t for teaching you ways to streamline your unixporn setup. If that&apos;s what you want, move on!W"><script type="text/javascript" id="hexo.configuration">var CONFIG={scheme:"Mist",sidebar:"remove",motion:!0};</script><title>Terminal Wizard part 2 | jrandm thoughts</title></head><body itemscope itemtype="http://schema.org/WebPage" lang="en"><!--[if lte IE 8]><div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div><![endif]--><div class="container one-column page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">jrandm thoughts</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">Whatever crosses my mind</p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-home fa-fw"></i><br>Home</a></li><li class="menu-item menu-item-categories"><a href="/categories" rel="section"><i class="menu-item-icon fa fa-th fa-fw"></i><br>Categories</a></li><li class="menu-item menu-item-about"><a href="/about" rel="section"><i class="menu-item-icon fa fa-user fa-fw"></i><br>About</a></li><li class="menu-item menu-item-archives"><a href="/archives" rel="section"><i class="menu-item-icon fa fa-archive fa-fw"></i><br>Archives</a></li></ul></nav></div></header><main id="main" class="main"><div class="main-inner"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline">Terminal Wizard part 2</h1><div class="post-meta"><span class="post-time">Posted on <time itemprop="dateCreated" datetime="2015-10-13T03:00:00-04:00" content="2015-10-13">2015-10-13</time></span> <span class="post-category">&nbsp; | &nbsp; In <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/programming/" itemprop="url" rel="index"><span itemprop="name">Programming</span></a></span></span></div></header><div class="post-body"><span itemprop="articleBody"><p>I'm going to go ahead and start this by saying I am <em>not</em> a master of bash and all things vim. This post isn't for teaching you ways to streamline your unixporn setup. If that's what you want, move on!</p><p>Who should keep reading are the people who want to use tmux, bash, and vim, and keep finding posts telling you to start copying dotfiles and configuring keys you haven't used. I'm going to walk you through getting comfortable with this software, explain some things that might be confusing to you, and hopefully motivate you to stick with changing your workflow.</p><p>If you happened to get dropped straight to part 2 here, I started this article originally to be an easy introduction to working in a terminal, using a terminal-base editor (specifically vim), using a multiplexer (tmux)... After talking to a few people about it and showing them some drafts, I realized I was still assuming too much background knowledge for a lot of people. To fix that, I split this into three parts:</p><ol><li>What is a terminal, how does your computer work - <a href="/2015/09/19/terminal-wizard-part1/">Part 1</a></li><li>Tips for using bash well and why vim is better than your editor - <a href="/2015/10/13/terminal-wizard-part2/">You are here</a></li><li>Multiplexers and Looking like a 1337 h4x0r - <a href="/2015/10/30/terminal-wizard-part3/">Part 3</a></li></ol><p>Collectively the name (meant to be tongue-in-cheek) is How To Be a Terminal Wizard. You aren't going to be an expert from my rantings, but hopefully you'll have a good foundation and be able to use some other resources I offer to make your development environment better!</p><p>Let's start by running through how to effectively use your CLI. All the examples here are geared towards bash, but you'd be amazed how many will work on Windows too with little-or-no differences.</p><p>The first thing I like to let everyone know is that you can almost always exit a terminal application by hitting CTRL+C. When you get stuck, smash that a few times. If it doesn't work, many programs will helpfully tell you how to exit.</p><p>The biggest thing you need to know is essentially applying the UNIX philosophy. Bash lets you very easily pipe (ie: stream) output from one command into another. Distributed with your OS are lots of little programs that do one thing extremely well. By piping commands together, you can easily accomplish all sorts of ridiculous things.</p><p>How do you pipe output? With a pipe of course. Let's say we're looking in a huge directory for a specific file - hopefully you know <code>ls</code> will list the files, you can then use <code>grep</code> to search for what you want.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ls | grep partOfFilename</span><br></pre></td></tr></table></figure><p>And you'll only see lines with that partOfFilename. Some other common things you might use are <code>awk</code>, <code>sed</code>, <code>cat</code>, <code>touch</code>, <code>more</code>, <code>ps</code>, <code>top</code>, and <code>less</code>. There's a built-in manual for all of these too, type <code>man [cmd]</code> and you'll be in the documentation. Navigation can be a little tricky - you can use <code>j</code> and <code>k</code> to scroll and <code>q</code> to exit.</p><p>You can also send data directly into files with <code>&gt;</code> or <code>&gt;&gt;</code>: (the two greater-thans appends)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">"Check this out!"</span> &gt; test.txt</span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">"On the next line"</span> &gt;&gt; test.txt</span><br></pre></td></tr></table></figure><p>Maybe you need to run two commands in order, like deleting a directory (clearing it out) and remaking it for some part of a build process:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rm -rf build &amp;&amp; mkdir build</span><br></pre></td></tr></table></figure><p>You could also use a semicolon (<code>;</code>) instead of the double ampersand. The difference is that the semicolon just separates the statements, both will always run, while the ampersands will only continue running as long as the first command doesn't return an error.</p><p>That command above uses two switches (or options) on the <code>rm</code>, the <code>-rf</code>. That R stands for <strong>R</strong>ecursive, and most commands have that option when you want to run it on an entire directory (including subdirectories). A common trick is searching for some string in files with <code>grep -r variableName</code>. The F is <strong>F</strong>orce, basically don't prompt for permission or check for errors. You want to be very careful using a force switch, but it is common when you know you want the option to happen and don't want to be asked if you're sure.</p><p>Finally, you might want to run things in the background, like firing off a server.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ node myserver.js &amp;</span><br></pre></td></tr></table></figure><p>That's right, you just put an ampersand at the end. You can also use the single ampersand to run multiple commands in parallel instead of sequentially, if you wanted to run several things at once.</p><p>Now that you got it in the background, how do you get it back? You can run <code>jobs</code>! That will list any background processes. You can then bring them back to the foreground by typing <code>fg [number]</code> where the number is listed in the <code>jobs</code> output, or start a stopped job by typing <code>bg [number]</code>. Why would a job be stopped? You can hit CTRL+Z to stop and place any running program into the background; it's a good fallback when CTRL+C doesn't work.</p><p>Like I said, this isn't mean to be an in-depth guide, more a quick overview to what can help you be more productive and comfortable at the command line. In addition to the man pages, here are a few links that will help you dive into the world of bash:</p><ul><li><a href="http://cli.learncodethehardway.org/book/" target="_blank" rel="external">Command Line Crash Course</a></li><li><a href="https://github.com/veltman/clmystery" target="_blank" rel="external">Command Line Murder Mystery</a></li><li><a href="http://ryanstutorials.net/linuxtutorial/" target="_blank" rel="external">Intro to Linux Tutorial</a></li><li><a href="http://www.linux.org/threads/customize-bash.4129/" target="_blank" rel="external">Customizing Bash</a></li></ul><p>Now let's talk about one of my favorite pieces of software in the world, vim. Vim stands for VI Improved, because it's an updated version of vi, an editor that itself added a visual mode to ex. Computing was a smaller world back in the 1970s! There's several cool things about vim, mostly related to modal editing (and that it runs in your terminal), but before we get to that...</p><p>I image some of you are probably wondering why you'd want to switch to some crazy old text editor. There's actually a few good reasons, not the least of which being they're available everywhere. Actually everywhere -- any computer you connect to, in virtually any way, from now until forever, will be capable of running the same programs, or one crazy similar. Also, since people have been doing exactly that with them for decades, most everything you could want has been done worked out.</p><p>Still not convinced? Aside from the mad hacker cred you get working in terminals, productivity from using the same tools everywhere, and unbelievably mature ecosystem, you'll also have an easier time doing your daily tasks. There's definitely a learning curve, but in a couple weeks you'll be just as productive if not moreso. Trust me.</p><p>Which leads me to my first suggestion: Just fucking switch. Seriously, do it. Now. Close Sublime, Webstorm, Atom, whatever, and don't go back unless you absolutely have to. It's going to suck... Deal with it. If you wait until it's convenient you'll never learn.</p><p>There's a nice tool called <code>vimtutor</code> that'll run you through the basics. Do it a few times. Don't worry about memorizing everything, just go through the motions. I'd recommend installing vimium (Chrome/Firefox browser extension) too; you really want to get used to using letters as directions. You're already a good typist, right? This is all about getting you used to common combos, directions, and conventions that you'll use in vim (and other text-based programs). Basically every key is now a shortcut -- Embrace it!</p><p>The big change is exactly that - <em>every</em> key is now a shortcut. This is possible because vim has modal editing. You have to be in an INSERT mode to write text (and have your keyboard work as-expected), if you aren't actively writing you will probably be in the default, EDITING mode. It also has a VISUAL mode (in the name, right?) that's useful for selecting portions of text and editing multiple lines at once.</p><p>Along with this, vim introduces it's own kind of language or motions. You can stack any command, motion, or direction you're familiar with in intuitive ways. Want to move 3 lines down? Type <code>3j</code>. Delete the previous two lines? <code>d2k</code> It takes practice, but the language of vim makes a lot of sense. Delete 2 up, move 3 down. As you learn more and get your common tasks under your fingers, you'll find editing text - what is a huge chunk of your time as a programmer, after all - gets much easier.</p><p>Lots of guides here will say to replace the default keybindings or start changing settings; I think that's terrible advice. When a key combination becomes a problem, change it. Don't change a bunch of things because it works for somebody else (it also ruins the whole &quot;same everywhere&quot; thing). It's not that hard to hit ESC or CTRL. The big thing that will speed up your adaption is to not spend much time in INSERT mode. Unless you're actively typing text, tap that ESC key. Move around with HJKL. Use /string and search. Bounce around with <code>wbe</code>, wipe out text with <code>di&quot;</code> or <code>df$</code>, and replace chars with <code>r</code>.</p><p>You'll wonder why you spent so much time scrolling and highlighting in no time.</p><p>I'll link you to much more comprehensive guides shortly, but here's a super-small cheat sheet that can get you going:</p><table><thead><tr><th>Key</th><th>Action</th></tr></thead><tbody><tr><td>ESC</td><td>Go back to EDIT mode</td></tr><tr><td>CTRL+[</td><td>Same as ESC</td></tr><tr><td>CTRL+c</td><td>Exits VISUAL OR INSERT</td></tr><tr><td>h</td><td>Move left</td></tr><tr><td>l</td><td>Move right</td></tr><tr><td>j</td><td>Move down</td></tr><tr><td>k</td><td>Move up</td></tr><tr><td>d</td><td>Delete something</td></tr><tr><td>dd</td><td>Delete current line</td></tr><tr><td>$</td><td>Signifies end of line</td></tr><tr><td>^</td><td>Signifies beginning of line</td></tr><tr><td>i</td><td>Enter INSERT mode</td></tr><tr><td>o</td><td>Add new line below current position and enter INSERT</td></tr><tr><td>O</td><td>Add new line above current position and enter INSERT</td></tr><tr><td>:</td><td>To send a command to vim</td></tr><tr><td>u</td><td>Undo</td></tr><tr><td>CTLR+r</td><td>Redo</td></tr></tbody></table><p>Note that capitalization is important. <code>vimtutor</code> will help you a lot getting moving around and with basic editing, after a few days of struggling you'll be moving around much easier. Another big issue for many new vimmers is copying text outside of vim - I like a program called <code>xsel</code>, where I go into VISUAL LINE mode (with <code>V</code>), select the lines I want, then type <code>:!xsel -i</code> to copy text to the system clipboard. You can paste from there (in INSERT mode) with shift+insert.</p><p>I do recommend adding a few things to your vimrc to get started, though:</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">" Basic config</span><br><span class="line"></span><span class="keyword">set</span> <span class="keyword">history</span>=<span class="number">40</span></span><br><span class="line"><span class="keyword">set</span> <span class="keyword">number</span></span><br><span class="line"><span class="keyword">colorscheme</span> darkblue </span><br><span class="line"><span class="keyword">set</span> autoindent</span><br><span class="line"><span class="keyword">set</span> smartindent</span><br><span class="line"><span class="keyword">set</span> smarttab</span><br><span class="line"><span class="keyword">set</span> <span class="built_in">shiftwidth</span>=<span class="number">2</span></span><br><span class="line"><span class="keyword">set</span> softtabstop=<span class="number">2</span></span><br><span class="line"><span class="keyword">set</span> tabstop=<span class="number">2</span></span><br><span class="line"><span class="keyword">set</span> expandtab</span><br><span class="line"><span class="keyword">set</span> nowrap</span><br><span class="line"><span class="keyword">syntax</span> enable</span><br></pre></td></tr></table></figure><p>Basically this sets a longer history, turns on line numbers, turns on syntax highlighting, and sets some saner defaults for indentation (I like two spaces, YMMV). You will probably want to add some plugins to get extra functionality as well, I use <a href="https://github.com/junegunn/vim-plug" target="_blank" rel="external">vim-plug</a>.</p><p>Here's some links that really dive into using, configuring, and grokking vim - If anything I said perked your interest, I hope you check them out and start trying it out today. For the record, Emacs is a decent choice too, but I hate the chords.</p><ul><li><a href="http://benmccormick.org/2014/06/30/learning-vim-in-2014-the-basics/" target="_blank" rel="external">Learning Vim in 2014 - Great Series</a></li><li><a href="https://stackoverflow.com/questions/1218390/what-is-your-most-productive-shortcut-with-vim/1220118#1220118" target="_blank" rel="external">StackOverflow answer on grokking vi</a></li><li><a href="http://vim-adventures.com/" target="_blank" rel="external">Vim Adventures - Game to Learn Vim Keys</a></li><li><a href="https://danielmiessler.com/study/vim/" target="_blank" rel="external">Vim Primer</a></li></ul><p>Please share feedback on this article, as I know it's a little brief on explanations. Go ahead and <a href="https://github.com/jyoko/jyoko.github.io/issues" target="_blank" rel="external">file an issue on Github</a>! Next up we'll discuss terminal multiplexers, or how you can have multiple tabs, save your terminal sessions, and even share them across machines!</p></span></div><footer class="post-footer"><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2015/9/26/dont-use-that-library/" rel="next" title="Don't Use That Library!"><i class="fa fa-chevron-left"></i> Don't Use That Library!</a></div><div class="post-nav-prev post-nav-item"><a href="/2015/10/17/application-design/" rel="prev" title="Application Design">Application Design <i class="fa fa-chevron-right"></i></a></div></div></footer></article><div class="post-spread"></div></div></div><div class="comments" id="comments"></div></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2016</span> <span class="with-love"><i class="icon-next-heart fa fa-beer"></i></span> <span class="author" itemprop="copyrightHolder">jyoko</span></div><div class="powered-by">Powered by <a class="theme-link" href="http://hexo.io">Hexo</a></div><div class="theme-info">Theme - <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a></div></div></footer><div class="back-to-top"></div></div><script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script><script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.2"></script><script type="text/javascript" src="/js/helpers.js?v=0.4.5.2"></script><script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script><script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script><script type="text/javascript" src="/js/motion.js?v=0.4.5.2" id="motion.global"></script><script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.5.2" id="bootstrap.scrollspy.custom"></script><script type="text/javascript" id="sidebar.toc.highlight">$(document).ready(function(){function o(){$(s+" "+r).removeClass(r.substring(1))}function t(){i(),n()}function i(){var o=$(".sidebar").height()-a.position().top-$(".post-toc-indicator-bottom").height();return a.css("height",o),o}function n(){c(".post-toc-indicator-top",a.scrollTop()>0?"show":"hide"),c(".post-toc-indicator-bottom",a.scrollTop()>=a.find("ol").height()-a.height()?"hide":"show")}function e(o){o.on("mousewheel DOMMouseScroll",function(o){var t=o.originalEvent,i=t.wheelDelta||-t.detail;this.scrollTop+=30*(0>i?1:-1),o.preventDefault(),n()})}function c(o,t){var i=$(o),n="show"===t?1:0;i.velocity?i.velocity("stop").velocity({opacity:n},{duration:100}):i.stop().animate({opacity:n},100)}var s=".post-toc",a=$(s),r=".active-current";a.on("activate.bs.scrollspy",function(){var t=$(s+" .active").last();o(),t.addClass("active-current"),a[0].scrollTop=t.position().top}).on("clear.bs.scrollspy",function(){o()}),$(document).on("sidebar.motion.complete",function(){t()}),$("body").scrollspy({target:s}),$(window).on("resize",function(){$(".sidebar").hasClass("sidebar-active")&&t()}),e(a)});</script><script type="text/javascript" id="sidebar.nav">$(document).ready(function(){var t=$("html"),i=200,a=$.isFunction(t.velocity);$(".sidebar-nav li").on("click",function(){var t=$(this),o="sidebar-nav-active",e="sidebar-panel-active";if(!t.hasClass(o)){var s=$("."+e),n=$("."+t.data("target"));a?s.velocity("transition.slideUpOut",i,function(){n.velocity("stop").velocity("transition.slideDownIn",i).addClass(e)}):s.animate({opacity:0},i,function(){s.hide(),n.stop().css({opacity:0,display:"block"}).animate({opacity:1},i,function(){s.removeClass(e),n.addClass(e)})}),t.siblings().removeClass(o),t.addClass(o)}}),$(".post-toc a").on("click",function(i){i.preventDefault();var o=escapeSelector(this.getAttribute("href")),e=$(o).offset().top;a?t.velocity("stop").velocity("scroll",{offset:e+"px",mobileHA:!1}):$("html, body").stop().animate({scrollTop:e},500)}),motionMiddleWares.sidebar=function(){var t=$(".post-toc-content");"post"===CONFIG.sidebar&&t.length>0&&t.html().trim().length>0&&displaySidebar()}});</script><script type="text/javascript" src="/js/bootstrap.js"></script></body></html>